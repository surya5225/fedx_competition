<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Route Optimization Results</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 0;
        }

        h1 {
            background-color: #4CAF50;
            color: white;
            padding: 20px;
            text-align: center;
        }

        h2 {
            color: #333;
            margin-top: 20px;
        }

        p {
            color: #555;
            line-height: 1.6;
        }

        iframe {
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 20px 0;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        .container {
            max-width: 1000px;
            margin: 20px auto;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .section {
            border-top: 2px solid #ddd;
            padding-top: 15px;
            margin-top: 15px;
        }

        .highlight {
            color: #4CAF50;
            font-weight: bold;
        }

        footer {
            text-align: center;
            margin-top: 20px;
            padding: 10px;
            background: #4CAF50;
            color: white;
        }

        footer a {
            color: #fff;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <h1>Route Optimization Results</h1>
    <div class="container">
        <!-- Display Map -->
        <h2>Route Map</h2>
        <iframe src="{{ map_html }}" width="80%" height="400px" frameborder="0"></iframe>

        <!-- Display Route Data -->
        <div class="section">
            <h2>Route Information</h2>
            <p><strong>Start Location:</strong> <span class="highlight">{{ route['routes'][0]['legs'][0]['start_address'] }}</span></p>
            <p><strong>End Location:</strong> <span class="highlight">{{ route['routes'][0]['legs'][0]['end_address'] }}</span></p>
            <p><strong>Distance:</strong> <span class="highlight">{{ route['routes'][0]['legs'][0]['distance']['text'] }}</span></p>
            <p><strong>Duration:</strong> <span class="highlight">{{ route['routes'][0]['legs'][0]['duration']['text'] }}</span></p>
        </div>

        <!-- Display Traffic Data -->
        <div class="section">
            <h2>Traffic Information</h2>
            <p><strong>Traffic Level:</strong> {{ traffic['level'] or "Not Available" }} % traffic</p>
            <p><strong>Traffic Description:</strong> {{ traffic['description'] or "Not Available" }} minutes</p>
        </div>

        <!-- Current and Arrival Time -->
        <div class="section">
            <h2>Current Time:</h2>
            <p>{{ current_time }}</p>

            <h2>Approximate Arrival Time:</h2>
            <p>{{ approximate_arrival_time }}</p>
        </div>

        <!-- Display Air Quality Data -->
        <div class="section">
            <h2>Air Quality Information</h2>
            <p><strong>AQI:</strong> {{ air_quality['aqi'] or "Not Available" }}</p>
            <p><strong>PM10:</strong> {{ air_quality['pm10'] or "Not Available" }}</p>
            <p><strong>PM2.5:</strong> {{ air_quality['pm25'] or "Not Available" }}</p>
        </div>

        <!-- Display Emissions Data -->
        <div class="section">
            <h2>Estimated Emissions</h2>
            <p><strong>CO2 Emissions (Car):</strong> {{ emissions['car'] or "Not Available" }} kg</p>
            <p><strong>CO2 Emissions (Truck):</strong> {{ emissions['truck'] or "Not Available" }} kg</p>
        </div>

        <!-- Display Weather Data -->
        <div class="section">
            <h2>Weather Information</h2>
            <p><strong>Weather Description:</strong> {{ weather['description'] or "Not Available" }}</p>
            <p><strong>Rainfall (last hour):</strong> {{ weather['rain'] or "Not Available" }} mm</p>
        </div>
    </div>

</body>
</html>
